@model BigBazarPresentationLayer.Models.CustomerModel

@{
    ViewData["Title"] = "DeleteCustomer";
}
@if(ViewBag.Error != null)
    {
    @ViewBag.Error
    @ViewBag.InnerException
    }
@section Scripts
{
    <script>
        $(document).ready(function () {
            $("#btnclick").click(function () {


                var data = $("#formid").serialize();
                $.ajax({
                    type: 'POST',
                    url: '/User/DeleteCustomer',
                    data: data,
                    success: function (data) {
                        alert("Deleted Successfully ");
                        location.reload();
                    },
                    error: function (response) {
                        alert("Something Went Wrong! check if customer or id entered is present in database. ");
                    }
                })
            })
        })
    </script>
}
<body style="background-color:gainsboro">

    <h1>DeleteCustomer</h1>
    @*@if(Model == null)
        {
        <div>
            <h5 style="color:red">record deleted sucessfully</h5>
        </div>
        <div>
            <a asp-action="GetAllCustomers"><h4><ins>Click Here To Go Back</ins></h4></a>
        </div>
        }
    @if(Model != null)
        {*@

        <h3>Are you sure you want to delete this?</h3>
        <div>
            <h4>CustomerModel</h4>
            <hr />
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.CustomerId)
                </dt>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.CustomerName)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.CustomerName)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Email)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Email)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.PhoneNumber)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.PhoneNumber)
                </dd>
            </dl>

            <form id="formid" asp-action="DeleteCustomer">
                <input type="hidden" asp-for="CustomerId" />
                <input type="hidden" asp-for="CustomerName" />
                <input type="hidden" asp-for="Email" />
                <input type="hidden" asp-for="PhoneNumber" />
                <input type="submit" id="btnclick" value="Delete" class="btn btn-danger" />
                <a asp-action="GetAllCustomers"><h4>No/Go Back</h4></a>

                @*<a asp-action="Index">Back to List</a>*@
            </form>
            <a asp-action="Index"><h4><ins>Click Here To Go Back to user home</ins></h4></a>

        </div>
        @*}*@
    </body>